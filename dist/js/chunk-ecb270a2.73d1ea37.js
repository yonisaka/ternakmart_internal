(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ecb270a2"],{"768d":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-breadcrumbs",{attrs:{items:e.breadcrumbs,divider:"\\"}}),t("v-card",{attrs:{elevation:"4"}},[t("v-card-text",[t("v-toolbar",{attrs:{flat:""}},[t("v-toolbar-title",[t("div",{staticClass:"title font-weight-bold my-2 ml-2"},[e._v(" Pengajuan Ternak ")])]),t("v-spacer"),t("v-btn",{attrs:{to:"/modal/pengajuan",dense:"",color:"secondary"}},[e._v(" Kembali ")])],1),t("v-divider"),t("div",{staticClass:"subtitle font-weight-bold mt-5 ml-5"},[e._v(" Informasi Ternak ")]),t("v-form",{ref:"form",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),e.onSubmit()}}},[t("v-container",{attrs:{fluid:""}},[e.errors?t("v-row",[t("ul",{staticClass:"red--text my-3"},e._l(e.errors,(function(a,n){return t("li",{key:n},[e._v(" "+e._s(e._f("error")(a[0])))])})),0)]):e._e(),t("v-row",[t("v-col",{attrs:{cols:"12",lg:"4",sm:"12"}},[t("v-text-field",{attrs:{color:"teal darken-2",label:"Nama Ternak",outlined:"",dense:"",required:""},model:{value:e.form.ternak_nama,callback:function(a){e.$set(e.form,"ternak_nama",a)},expression:"form.ternak_nama"}})],1),t("v-col",{attrs:{cols:"12",lg:"2",sm:"12"}},[t("v-select",{attrs:{"item-text":"text","item-value":"value",items:e.jenis_kelamin,color:"teal",label:"Kelamin",outlined:"",dense:"",required:""},on:{change:e.filterJenis},model:{value:e.form.jenis_kelamin,callback:function(a){e.$set(e.form,"jenis_kelamin",a)},expression:"form.jenis_kelamin"}})],1),t("v-col",{attrs:{cols:"12",lg:"3",sm:"12"}},[t("v-select",{attrs:{"item-text":"golongan_nama","item-value":"id",items:e.golongan,color:"teal",label:"Jenis",outlined:"",dense:"",required:""},on:{change:e.filterJenis},model:{value:e.form.id_golongan,callback:function(a){e.$set(e.form,"id_golongan",a)},expression:"form.id_golongan"}})],1),t("v-col",{attrs:{cols:"12",lg:"3",sm:"12"}},[t("v-select",{attrs:{"item-text":"jenis_nama","item-value":"id",items:e.jenis,color:"teal",label:"Breed",outlined:"",dense:"",required:""},model:{value:e.form.id_jenis,callback:function(a){e.$set(e.form,"id_jenis",a)},expression:"form.id_jenis"}})],1),t("v-col",{attrs:{cols:"12",lg:"6",sm:"12"}},[t("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",outlined:"",dense:"",label:"Foto Ternak"},on:{change:e.onFilePicked}})],1),t("v-col",{attrs:{cols:"4",lg:"2",sm:"4"}},[t("v-text-field",{attrs:{color:"teal darken-2",label:"Berat",outlined:"",dense:"",required:""},model:{value:e.form.ternak_berat,callback:function(a){e.$set(e.form,"ternak_berat",a)},expression:"form.ternak_berat"}})],1),t("v-col",{attrs:{cols:"4",lg:"2",sm:"4"}},[t("v-text-field",{attrs:{color:"teal darken-2",label:"Umur",outlined:"",dense:"",required:""},model:{value:e.form.ternak_umur,callback:function(a){e.$set(e.form,"ternak_umur",a)},expression:"form.ternak_umur"}})],1),t("v-col",{attrs:{cols:"4",lg:"2",sm:"4"}},[t("v-text-field",{attrs:{color:"teal darken-2",label:"Lingkar Perut",outlined:"",dense:"",required:""},model:{value:e.form.lingkar_perut,callback:function(a){e.$set(e.form,"lingkar_perut",a)},expression:"form.lingkar_perut"}})],1),e.id_ternak?t("v-col",{attrs:{cols:"12",lg:"6",sm:"12"}},[t("v-img",{attrs:{"lazy-src":e.form.file_path,src:e.form.file_path,"aspect-ratio":"2.2"},on:{error:function(e){e.target.src="img/default.png"}}})],1):e._e(),e.id_ternak?t("v-col",{attrs:{cols:"12",lg:"6",sm:"12"}},[t("label",[e._v("Deskripsi")]),t("vue-editor",{attrs:{"editor-toolbar":e.customToolbar},model:{value:e.form.ternak_deskripsi,callback:function(a){e.$set(e.form,"ternak_deskripsi",a)},expression:"form.ternak_deskripsi"}})],1):t("v-col",{attrs:{cols:"12"}},[t("label",[e._v("Deskripsi")]),t("vue-editor",{attrs:{"editor-toolbar":e.customToolbar},model:{value:e.form.ternak_deskripsi,callback:function(a){e.$set(e.form,"ternak_deskripsi",a)},expression:"form.ternak_deskripsi"}})],1),t("v-col",{attrs:{cols:"12",lg:"6",sm:"12"}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on,r=a.attrs;return[t("v-text-field",e._g(e._b({attrs:{label:"Tanggal Penerimaan","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:e.form.tgl_penerimaan,callback:function(a){e.$set(e.form,"tgl_penerimaan",a)},expression:"form.tgl_penerimaan"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu,callback:function(a){e.menu=a},expression:"menu"}},[t("v-date-picker",{on:{input:function(a){e.menu=!1}},model:{value:e.form.tgl_penerimaan,callback:function(a){e.$set(e.form,"tgl_penerimaan",a)},expression:"form.tgl_penerimaan"}})],1),t("v-text-field",{attrs:{color:"teal darken-2",label:"Harga",outlined:"",dense:"",required:""},model:{value:e.form.harga_pengajuan,callback:function(a){e.$set(e.form,"harga_pengajuan",a)},expression:"form.harga_pengajuan"}})],1),t("v-col",{attrs:{cols:"12",lg:"6",sm:"12"}},[t("v-select",{attrs:{"item-text":"province","item-value":"province_id",items:e.provinsi,color:"teal",label:"Provinsi",outlined:"",dense:"",required:""},on:{change:e.filterCity},model:{value:e.form.province_id,callback:function(a){e.$set(e.form,"province_id",a)},expression:"form.province_id"}}),t("v-select",{attrs:{"item-text":"city_name","item-value":"city_id",items:e.kota,color:"teal",label:"Kota / Kabupaten",outlined:"",dense:"",required:""},on:{change:e.filterCity},model:{value:e.form.city_id,callback:function(a){e.$set(e.form,"city_id",a)},expression:"form.city_id"}})],1)],1),t("v-row",{staticClass:"text-right"},[t("v-col",[t("v-btn",{attrs:{type:"submit",color:"primary",disabled:e.isLoading}},[e.isLoading?t("span",[e._v(" Loading "),t("v-progress-circular",{attrs:{size:15,indeterminate:"",color:"secondary"}})],1):t("span",[e._v(" Simpan ")])])],1)],1)],1)],1)],1)],1),t("v-snackbar",{attrs:{timeout:"2000",color:e.color},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")])],1)},r=[],i=t("5530"),o=t("2f62"),s=t("6c33"),l=t("bc3a"),d=t.n(l),c=t("5873"),m={components:{VueEditor:c["a"]},data:function(){return{snackbar:!1,message:"",isLoading:!1,id_ternak:"",jenis_kelamin:[{text:"Betina",value:"B"},{text:"Jantan",value:"J"}],form:{},jenis:[{jenis_nama:"Pilih golongan terlebih dahulu",id:""}],breadcrumbs:[{text:"Modal",disabled:!0},{text:"Pengajuan",disabled:!0},{text:"Tambah Data",disabled:!0}],menu:!1,errors:{},provinsi:[],kota:[{city_name:"Pilih provinsi terlebih dahulu",city_id:""}],color:"",customToolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}]]}},mounted:function(){var e=this;d.a.get("/lokasi/provinsi").then((function(a){e.provinsi=a.data.provinsi})),this.$store.dispatch(s["f"]),this.id_ternak=this.$route.params.id||"",this.$route.params.id&&d.a.get("/ternak/"+this.$route.params.id).then((function(a){e.form=a.data.ternak,e.golongan={id:a.data.ternak.id_golongan,golongan_nama:a.data.ternak.golongan_nama},e.jenis={id:a.data.ternak.id_jenis,jenis_nama:a.data.ternak.jenis_nama},d.a.get("lokasi/kota/"+e.form.province_id).then((function(a){e.kota=a.data.kota})),e.kota={city_id:a.data.ternak.city_id,city_name:a.data.ternak.city_name}}))},computed:Object(i["a"])({},Object(o["b"])(["golongan"])),methods:{filterJenis:function(){var e=this;d.a.get("/jenis/"+this.form.id_golongan+"/"+this.form.jenis_kelamin).then((function(a){e.jenis=a.data.jenis}))},filterCity:function(){var e=this;d.a.get("lokasi/kota/"+this.form.province_id).then((function(a){e.kota=a.data.kota}))},onFilePicked:function(e){this.form.file=e[0]},onSubmit:function(){var e=this;this.isLoading=!0;var a=new FormData;a.append("ternak_nama",this.form.ternak_nama),a.append("id_jenis",this.form.id_jenis),a.append("jenis_kelamin",this.form.jenis_kelamin),a.append("lingkar_perut",this.form.lingkar_perut),a.append("ternak_berat",this.form.ternak_berat),a.append("ternak_umur",this.form.ternak_umur),a.append("file",this.form.file),a.append("ternak_deskripsi",this.form.ternak_deskripsi),a.append("harga_pengajuan",this.form.harga_pengajuan),a.append("tgl_penerimaan",this.form.tgl_penerimaan),a.append("province_id",this.form.province_id),a.append("city_id",this.form.city_id),this.$route.params.id?d.a.post("/ternak/"+this.id_ternak+"?_method=PUT",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.snackbar=!0,e.message="Berhasil Update Data",e.color="#139CA4",setTimeout((function(){return e.$router.push({path:"/modal/pengajuan"})}),1e3),e.isLoading=!1})).catch((function(a){e.errors=a.response.data,e.snackbar=!0,e.message="Gagal Update Data",e.color="red",e.isLoading=!1})):d.a.post("/ternak",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.snackbar=!0,e.message="Berhasil Tambah Data",e.color="#139CA4",setTimeout((function(){return e.$router.push({path:"/modal/pengajuan"})}),1e3),e.isLoading=!1})).catch((function(a){e.errors=a.response.data,e.snackbar=!0,e.message="Gagal Tambah Data",e.color="red",e.isLoading=!1}))}}},u=m,f=t("2877"),p=t("6544"),k=t.n(p),_=t("2bc5"),v=t("8336"),g=t("b0af"),b=t("99d9"),h=t("62ad"),x=t("a523"),j=t("2e4b"),y=t("ce7e"),$=t("23a7"),T=t("4bd4"),V=t("adda"),C=t("e449"),w=t("490a"),P=t("0fd9"),D=t("b974"),q=t("2db4"),L=t("2fa4"),B=t("8654"),J=t("71d9"),F=t("2a7f"),S=Object(f["a"])(u,n,r,!1,null,null,null);a["default"]=S.exports;k()(S,{VBreadcrumbs:_["a"],VBtn:v["a"],VCard:g["a"],VCardText:b["c"],VCol:h["a"],VContainer:x["a"],VDatePicker:j["a"],VDivider:y["a"],VFileInput:$["a"],VForm:T["a"],VImg:V["a"],VMenu:C["a"],VProgressCircular:w["a"],VRow:P["a"],VSelect:D["a"],VSnackbar:q["a"],VSpacer:L["a"],VTextField:B["a"],VToolbar:J["a"],VToolbarTitle:F["a"]})},afdd:function(e,a,t){"use strict";var n=t("8336");a["a"]=n["a"]}}]);
//# sourceMappingURL=chunk-ecb270a2.73d1ea37.js.map